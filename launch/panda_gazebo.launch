<?xml version="1.0"?>
<launch>
	<!-- Tell Gazebo where to find our custom object models -->
	<env name="GAZEBO_MODEL_PATH"
		value="$(find mmp_grasp_detect)/models:$(optenv GAZEBO_MODEL_PATH)"/>

	<env name="GAZEBO_MODEL_PATH"
		value="$(find mmp_grasp_detect)/models/acronym:$(optenv GAZEBO_MODEL_PATH)"/>

    <!-- GAZEBO arguments -->
    <arg name="paused" default="false" />

    <!--launch GAZEBO with own world configuration -->
    <include file="$(find franka_moveit_config)/launch/gazebo.launch">
		<arg name="world_name" value="$(find mmp_grasp_detect)/worlds/mmp.world" />
        <arg name="paused" value="$(arg paused)" />
    </include>


	<!-- Launch moveit move group -->
	<include file="$(find franka_moveit_config)/launch/move_group.launch"/>

    <!-- Given the published joint states, publish tf for the robot links -->
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="true" output="screen" />

	<node name="scene_pub" pkg="mmp_grasp_detect" type="scene_pub" />
    <node name="test_q" pkg="mmp_grasp_detect" type="test_quaternion" />

	<node pkg="tf" type="static_transform_publisher" name="camera_robot_broadcaster" 
		args="0.425 -0.419 0.7 0 0.574 0.446 panda_link0 kinetic 100" />

	<!-- Launch RViz -->
	<node type="rviz" name="rviz" pkg="rviz"
		args="-d $(find mmp_grasp_detect)/config/rviz.rviz"/>

</launch>
